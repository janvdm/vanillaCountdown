!function(t,e){"function"==typeof define&&define.amd?define(["axios"],e(t)):"object"==typeof exports?module.exports=e(require("axios")):t.vannilaCountdown=e(t,t.axios)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,o,n,s={},r=!!document.querySelector&&!!t.addEventListener,a={autostart:!0,seconds:600,offset:0,checkTimeUrl:!1,checkTimeIntervalSeconds:30,checkTimeCallBack:function(){},startAtTimestamp:!1,onCompleteUrl:!1,countdownTimeId:"countdown",countdownProgressId:"countdownProgress",countdownProgressContainerId:"countdownProgressContainer",partTwo:!1,partTwoSeconds:220,partTwoClass:"text-danger",partTwoClassContainer:"danger",partTwoClassProgress:"bg-danger",partTwoCallBack:function(){},callbackBefore:function(){},callbackAfter:function(){}};function c(t,e,o){if("[object Object]"===Object.prototype.toString.call(t))for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(o,t[n],n,t);else for(var s=0,r=t.length;s<r;s++)e.call(o,t[s],s,t)}function l(){var t=new Date().getTime()-e.offset-n.getTime();return e.seconds-Math.floor(t/1e3)}function i(){var t=l();e.checkTimeUrl&&(60==t||10==t)&&s.checkStartTime(e.checkTimeUrl,t);var n=document.getElementById(e.countdownProgressContainerId),r=document.getElementById(e.countdownProgressId),a=document.getElementById(e.countdownTimeId),c=document.getElementById(e.countdownProgressContainerId),i=document.getElementById(e.countdownProgressId),d=document.getElementById(e.countdownTimeId),u=-(100/e.seconds*t)+100,T=Math.floor(t/60);if(T%=60,void 0!==a&&null!=a&&(a.innerHTML=("0"+T).slice(-2)+":"+("0"+t%60).slice(-2)),void 0!==r&&null!=r&&(r.style.width=98.5-u+"%"),e.partTwo&&(t==e.partTwoSeconds?(e.partTwoClassContainer&&void 0!==n&&null!=n&&n.classList.add(e.partTwoClassContainer),e.partTwoClassProgress&&void 0!==r&&null!=r&&r.classList.add(e.partTwoClassProgress),e.partTwoClass&&void 0!==a&&null!=a&&a.classList.add(e.partTwoClass),e.partTwoCallBack()):t>e.partTwoSeconds&&t%30==0&&(e.partTwoClassContainer&&void 0!==c&&null!=c&&c.classList.remove(e.partTwoClassContainer),e.partTwoClassProgress&&void 0!==i&&null!=i&&i.classList.remove(e.partTwoClassProgress),e.partTwoClass&&void 0!==d&&null!=d&&d.classList.remove(e.partTwoClass))),t<=0){e.onCompleteUrl&&(window.location.href=e.onCompleteUrl),clearInterval(o);return}}return s.checkIfInPart2=function(){return!!(e.partTwo&&l()<=e.partTwoSeconds)},s.checkStartTime=function(t){require("axios").get(t).then(function(t){if(!1!=t.data){var o=new Date;o.setTime(1e3*t.data.lastActionTimestamp),n=o,e.checkTimeCallBack()}})},s.destroy=function(){e&&(e=null)},s.init=function(t){if(r){var o,n,l;s.destroy(),(e=(o=a,n=t||{},l={},c(o,function(t,e){l[e]=o[e]}),c(n,function(t,e){l[e]=n[e]}),l)).checkTimeIntervalSeconds>=e.seconds&&(e.checkTimeIntervalSeconds=Math.ceil(e.seconds/2)),e.autostart&&s.start()}},s.start=function(){n=new Date,e.startAtTimestamp&&n.setTime(1e3*e.startAtTimestamp),o=setInterval(i,1e3),e.checkTimeUrl&&setInterval(function(){s.checkStartTime(e.checkTimeUrl)},1e3*e.checkTimeIntervalSeconds)},s});
